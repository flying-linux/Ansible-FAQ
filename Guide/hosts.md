###主机仓库使用指导
####一. 用途
主机仓库用以解决`不同密码的多个节点`无法`同时部署`的问题。

####二. 配置、使用说明
下面以DMK为例进行说明，

#####1. 若DMK原有hosts文件内容如下:

```
[dmk]
primary  ansible_ssh_user=dmk  ansible_ssh_host=172.30.16.99
standby  ansible_ssh_user=dmk ansible_ssh_host=172.30.16.100
[jdk]
upgrade  ansible_ssh_user=jdk ansible_ssh_host=172.30.16.103

```
##### 2. 将hosts文件录入DMK主机仓库
方式一：
* 通过“添加主机清单”按钮，增加一个主机分组；
* 通过主机分组后绿色的加号，添加分组 dmk，jdk；
* 通过各分组后面绿色的加号，添加分组所属主机，并填入不同账号密码，如和主机清单密码一致，则可为空；

方式二：
* 通过“导入主机清单”按钮，将host文件内容复制到“主机清单文件”文本框，输入名称以及选择正确分组以及账号，点击导入；
* 点开正确的分组，修改对应主机的账号密码。

配置完成，如下图：

![](/assets/hosts01.png)

#####3. 使用主机仓库进行部署
* 部署时，“主机仓库” 选择 “是”

![](/assets/hosts02.png)

* 选择正确的`主机清单`，点击执行，即可完成部署！


	
![](/assets/hosts03.png)